/*! For license information please see 532.9166d76e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[532],{3855:function(e,t,n){var r=n(5218),i=n(184);t.Z=function(){return(0,i.jsx)(r.x7,{position:"top-center",reverseOrder:!1})}},4532:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r,i,o,a=n(2791),c=n(7689),s=n(1413),l=n(168),u=n(6444),d=n(1087),f=u.ZP.div(r||(r=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 30px;\n  padding-top: 20px;\n"]))),h=u.ZP.div(i||(i=(0,l.Z)(["\n  display: flex;\n  gap: 30px;\n"]))),p=(0,u.ZP)(d.rU)(o||(o=(0,l.Z)(["\n  width: 100px;\n  text-align: center;\n  color: black;\n  padding: 4px 8px;\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    color: tomato;\n  }\n"]))),m=n(184),v=function(e){var t,n,r,i,o,a,l=e.movie,u=e.setIsLoading,d=l.date,v=l.title,g=l.tagline,x=l.poster,y=l.popularity,b=l.genre,j=l.overview,w=(0,c.TH)(),Z=null!==(t=null===(n=w.state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/",E=(0,s.Z)({},w),O=null===E||void 0===E||null===(r=E.state)||void 0===r||null===(i=r.from)||void 0===i?void 0:i.pathname,P=null===E||void 0===E||null===(o=E.state)||void 0===o||null===(a=o.from)||void 0===a?void 0:a.search,k=function(){return u(!1)};return(0,m.jsxs)(f,{children:[(0,m.jsx)(p,{to:Z,children:"Go back"}),(0,m.jsxs)(h,{children:[(0,m.jsx)("img",{src:x,alt:g,onLoad:k,onError:k}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{children:v}),(0,m.jsx)("p",{children:"".concat(d)})]}),(0,m.jsxs)("p",{children:["Popularity: ",y]}),(0,m.jsx)("h2",{children:"Overview"}),(0,m.jsx)("p",{children:j}),(0,m.jsx)("h2",{children:"Genres"}),(0,m.jsx)("p",{children:b})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Additional information"}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsx)(p,{to:"cast",state:{from:{pathname:O,search:P}},children:"Cast"})}),(0,m.jsx)("li",{children:(0,m.jsx)(p,{to:"reviews",state:{from:{pathname:O,search:P}},children:"Reviews"})})]}),(0,m.jsx)(c.j3,{})]})]})},g=n(3855),x=n(8175),y=function(e){return(0,m.jsxs)(x.ZP,(0,s.Z)((0,s.Z)({viewBox:"0 0 500 500",height:900,width:1280,backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},e),{},{children:[(0,m.jsx)("path",{d:"M484.52,64.61H15.65C7.1,64.61.17,71.2.17,79.31V299.82c0,8.12,6.93,14.7,15.48,14.7H484.52c8.55,0,15.48-6.58,15.48-14.7V79.31C500,71.2,493.07,64.61,484.52,64.61Zm-9,204.34c0,11.84-7.14,21.44-15.94,21.44H436.39L359.16,171.52c-7.1-10.92-19.67-11.16-27-.51L258.64,277.94C253.78,285,245.73,286,240,280.2l-79.75-80.62c-6-6.06-14.33-5.7-20,.88L62.34,290.39H40.63c-8.8,0-15.94-9.6-15.94-21.44V110.19c0-11.84,7.14-21.44,15.94-21.44H459.54c8.8,0,15.94,9.6,15.94,21.44Z"}),(0,m.jsx)("ellipse",{cx:"120",cy:"140",rx:"28",ry:"28"})]}))},b=n(7178),j=function(){var e=(0,b.Z)(),t=e.movie,n=e.fetchMovie,r=e.isLoading,i=e.setIsLoading,o=(0,a.useRef)(n).current,s=(0,c.UO)().moviesId;return(0,a.useEffect)((function(){var e=new AbortController;return o({fetchParams:"movie/".concat(s),controller:e}),function(){e.abort()}}),[o,s]),(0,m.jsxs)(m.Fragment,{children:[r&&(0,m.jsx)(y,{}),t&&(0,m.jsx)(v,{movie:t,setIsLoading:i}),(0,m.jsx)(g.Z,{})]})}},7178:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(9439),i=n(2791),o=n(5861),a=n(4687),c=n.n(a),s=n(1243);s.Z.defaults.baseURL="https://api.themoviedb.org/3/";var l=function(){var e=(0,o.Z)(c().mark((function e(t){var n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetchParams,r=t.query,i=void 0===r?null:r,o=t.controller,e.next=3,(0,s.Z)(n,{signal:o.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:i}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=n(5218),d=function(){var e=(0,i.useState)([]),t=(0,r.Z)(e,2),n=t[0],o=t[1],a=(0,i.useState)(!1),c=(0,r.Z)(a,2),s=c[0],d=c[1],f=(0,i.useState)(null),h=(0,r.Z)(f,2),p=h[0],m=h[1],v=(0,i.useState)([]),g=(0,r.Z)(v,2),x=g[0],y=g[1],b=(0,i.useState)([]),j=(0,r.Z)(b,2),w=j[0],Z=j[1];return{movies:n,fetchMoviesList:function(e){d(!0),l(e).then((function(e){e.results.length||(d(!1),u.ZP.error("Nothing found!"));var t=function(e){return e.map((function(e){var t=e.title,n=e.id,r=e.poster_path,i=e.vote_average;return{title:t,id:n,poster:r?"https://image.tmdb.org/t/p/w500/".concat(r):"https://placehold.co/500x750/png",averageVote:i&&Math.round(10*i)}}))}(e.results);o(t)})).catch((function(e){"canceled"!==e.message&&(d(!1),u.ZP.error(e.message))}))},movie:p,fetchMovie:function(e){d(!0),l(e).then((function(e){m(function(e){var t=e.release_date,n=e.title,r=e.poster_path,i=e.popularity,o=e.backdrop_path,a=e.id,c=e.tagline,s=e.genres,l=e.overview,u=t?t.split("-")[0]:"No release information",d=r?"https://image.tmdb.org/t/p/w500/".concat(r):"https://placehold.co/500x750/png",f=s.map((function(e){return e.name})).join(" ");return{date:u,title:n,tagline:c,id:a,poster:d,popularity:i+"",backdrop_path:o,genre:f.length?f:"No genre information",overview:l}}(e))})).catch((function(e){"canceled"!==e.message&&(d(!1),u.ZP.error(e.message))}))},cast:x,fetchCast:function(e){l(e).then((function(e){y(function(e){return e.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,character:e.character,profile_path:e.profile_path}}))}(e.cast)),e.cast.length||u.ZP.error("We don't have any cast for this movie")})).catch((function(e){"canceled"!==e.message&&u.ZP.error(e.message)}))},reviews:w,fetcReviews:function(e){l(e).then((function(e){Z(function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))}(e.results)),e.results.length||u.ZP.error("We don't have any reviews for this movie")})).catch((function(e){"canceled"!==e.message&&u.ZP.error(e.message)}))},isLoading:s,setIsLoading:d}}},8175:function(e,t,n){var r=n(2791),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};var o=function(e){var t=e.animate,n=void 0===t||t,o=e.animateBegin,a=e.backgroundColor,c=void 0===a?"#f5f6f7":a,s=e.backgroundOpacity,l=void 0===s?1:s,u=e.baseUrl,d=void 0===u?"":u,f=e.children,h=e.foregroundColor,p=void 0===h?"#eee":h,m=e.foregroundOpacity,v=void 0===m?1:m,g=e.gradientRatio,x=void 0===g?2:g,y=e.gradientDirection,b=void 0===y?"left-right":y,j=e.uniqueKey,w=e.interval,Z=void 0===w?.25:w,E=e.rtl,O=void 0!==E&&E,P=e.speed,k=void 0===P?1.2:P,C=e.style,_=void 0===C?{}:C,L=e.title,M=void 0===L?"Loading...":L,S=e.beforeMask,H=void 0===S?null:S,I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),N=j||Math.random().toString(36).substring(6),R=N+"-diff",T=N+"-animated-diff",U=N+"-aria",V=O?{transform:"scaleX(-1)"}:null,q="0; "+Z+"; 1",B=k+"s",G="top-bottom"===b?"rotate(90)":void 0;return(0,r.createElement)("svg",i({"aria-labelledby":U,role:"img",style:i(i({},_),V)},I),M?(0,r.createElement)("title",{id:U},M):null,H&&(0,r.isValidElement)(H)?H:null,(0,r.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+d+"#"+R+")",style:{fill:"url("+d+"#"+T+")"}}),(0,r.createElement)("defs",null,(0,r.createElement)("clipPath",{id:R},f),(0,r.createElement)("linearGradient",{id:T,gradientTransform:G},(0,r.createElement)("stop",{offset:"0%",stopColor:c,stopOpacity:l},n&&(0,r.createElement)("animate",{attributeName:"offset",values:-x+"; "+-x+"; 1",keyTimes:q,dur:B,repeatCount:"indefinite",begin:o})),(0,r.createElement)("stop",{offset:"50%",stopColor:p,stopOpacity:v},n&&(0,r.createElement)("animate",{attributeName:"offset",values:-x/2+"; "+-x/2+"; "+(1+x/2),keyTimes:q,dur:B,repeatCount:"indefinite",begin:o})),(0,r.createElement)("stop",{offset:"100%",stopColor:c,stopOpacity:l},n&&(0,r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+x),keyTimes:q,dur:B,repeatCount:"indefinite",begin:o})))))},a=function(e){return e.children?(0,r.createElement)(o,i({},e)):(0,r.createElement)(c,i({},e))},c=function(e){return(0,r.createElement)(a,i({viewBox:"0 0 476 124"},e),(0,r.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,r.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};t.ZP=a}}]);
//# sourceMappingURL=532.9166d76e.chunk.js.map