"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[23],{1023:function(e,t,n){n.r(t);var r=n(9439),a=n(7689),i=n(2791),o=n(5218),u=n(3855),c=n(1830),s=n(184);t.default=function(){var e=(0,a.UO)().moviesId,t=(0,i.useState)([]),n=(0,r.Z)(t,2),f=n[0],l=n[1];return(0,i.useEffect)((function(){var t=new AbortController,n={fetchParams:"movie/".concat(e,"/reviews"),controller:t};return(0,c.vw)(n).then((function(e){l((0,c.tK)(e.results))})).catch((function(e){"canceled"!==e.message&&o.ZP.error(e.message)})),function(){t.abort()}}),[e]),(0,s.jsxs)(s.Fragment,{children:[!!f.length&&(0,s.jsx)("ul",{children:f.map((function(e){var t=e.author,n=e.content,r=e.id;return(0,s.jsxs)("li",{children:[(0,s.jsxs)("h2",{children:["Author: ",t]}),(0,s.jsx)("p",{children:n})]},r)}))}),!f.length&&(0,s.jsx)("p",{children:"We don't have any reviews for this movie"}),(0,s.jsx)(u.Z,{})]})}},3855:function(e,t,n){var r=n(5218),a=n(184);t.Z=function(){return(0,a.jsx)(r.x7,{position:"top-center",reverseOrder:!1})}},1830:function(e,t,n){n.d(t,{vw:function(){return u},in:function(){return f},Bf:function(){return s},Lu:function(){return c},tK:function(){return l}});var r=n(5861),a=n(7757),i=n.n(a),o=n(1243);o.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetchParams,r=t.query,a=void 0===r?null:r,u=t.controller,e.next=3,(0,o.Z)(n,{signal:u.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){return e.map((function(e){return{title:e.title,id:e.id}}))},s=function(e){var t=e.release_date,n=e.title,r=e.poster_path,a=e.popularity,i=e.backdrop_path,o=e.id,u=e.tagline,c=e.genres,s=e.overview,f=t.split("-"),l=c.map((function(e){return e.name})).join(" ");return{date:f[0],title:n,tagline:u,id:o,poster_path:r,popularity:a,backdrop_path:i,genreList:l,overview:s}},f=function(e){return e.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,character:e.character,profile_path:e.profile_path}}))},l=function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))}}}]);
//# sourceMappingURL=23.eb89ce57.chunk.js.map