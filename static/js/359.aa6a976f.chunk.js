"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[359],{359:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var n=r(439);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var a=r(87),c=r(689),u=r(184),l=function(e){var t,r,n,l,s=e.movie,p=s.date,f=s.title,d=s.tagline,h=s.poster_path,v=s.popularity,m=s.genreList,j=s.overview,b=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,c.TH)()),g=null===b||void 0===b||null===(t=b.state)||void 0===t||null===(r=t.from)||void 0===r?void 0:r.pathname,x=null===b||void 0===b||null===(n=b.state)||void 0===n||null===(l=n.from)||void 0===l?void 0:l.search;return(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:h?"https://image.tmdb.org/t/p/w500/".concat(h):"https://placehold.co/500x750/png",alt:d}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:f}),(0,u.jsx)("p",{children:p?"(".concat(p,")"):"No release information"})]}),(0,u.jsxs)("p",{children:["Popularity: ",v]}),(0,u.jsx)("h2",{children:"Overview"}),(0,u.jsx)("p",{children:j}),(0,u.jsx)("h2",{children:"Genres"}),(0,u.jsx)("p",{children:m.length?m:"No genre information"})]}),(0,u.jsx)("h2",{children:"Additional information"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"cast",state:{from:{pathname:g,search:x}},children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"reviews",state:{from:{pathname:g,search:x}},children:"Reviews"})})]}),(0,u.jsx)(c.j3,{})]})},s=r(791),p=r(830),f=function(){var e,t,r=(0,s.useState)(null),i=(0,n.Z)(r,2),o=i[0],f=i[1],d=(0,c.UO)().moviesId,h=null!==(e=null===(t=(0,c.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";return(0,s.useEffect)((function(){var e=new AbortController,t={fetchParams:"movie/".concat(d),controller:e};return(0,p.vw)(t).then((function(e){f((0,p.Bf)(e))})).catch((function(e){})).finally((function(){})),function(){e.abort()}}),[d]),(0,u.jsxs)("div",{children:[(0,u.jsx)(a.rU,{to:h,children:"Go back"}),o&&(0,u.jsx)(l,{movie:o})]})}},830:function(e,t,r){r.d(t,{vw:function(){return c},in:function(){return s},Bf:function(){return l},Lu:function(){return u},tK:function(){return p}});var n=r(861),i=r(757),o=r.n(i),a=r(243);a.Z.defaults.baseURL="https://api.themoviedb.org/3/";var c=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fetchParams,n=t.query,i=void 0===n?null:n,c=t.controller,e.next=3,(0,a.Z)(r,{signal:c.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:i}});case 3:return u=e.sent,e.abrupt("return",u.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){return e.map((function(e){return{title:e.title,id:e.id}}))},l=function(e){var t=e.release_date,r=e.title,n=e.poster_path,i=e.popularity,o=e.backdrop_path,a=e.id,c=e.tagline,u=e.genres,l=e.overview,s=t.split("-"),p=u.map((function(e){return e.name})).join(" ");return{date:s[0],title:r,tagline:c,id:a,poster_path:n,popularity:i,backdrop_path:o,genreList:p,overview:l}},s=function(e){return e.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,character:e.character,profile_path:e.profile_path}}))},p=function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))}}}]);
//# sourceMappingURL=359.aa6a976f.chunk.js.map