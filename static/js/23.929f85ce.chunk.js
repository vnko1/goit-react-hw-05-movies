"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[23],{23:function(e,t,r){r.r(t);var n=r(439),a=r(689),i=r(791),o=r(580),u=r(184);t.default=function(){var e=(0,a.UO)().moviesId,t=(0,i.useState)([]),r=(0,n.Z)(t,2),c=r[0],s=r[1],l=(0,o.ib)(),f=l.errorMessage,h=l.setErrorMessage;return(0,i.useEffect)((function(){var t=new AbortController,r={fetchParams:"movie/".concat(e,"/reviews"),controller:t};return h(null),(0,o.vw)(r).then((function(e){s((0,o.tK)(e.results))})).catch((function(e){"canceled"!==e.message&&h(e.message)})),function(){t.abort()}}),[e,h]),(0,u.jsxs)(u.Fragment,{children:[!!c.length&&(0,u.jsx)("ul",{children:c.map((function(e){var t=e.author,r=e.content,n=e.id;return(0,u.jsxs)("li",{children:[(0,u.jsxs)("h2",{children:["Author: ",t]}),(0,u.jsx)("p",{children:r})]},n)}))}),!c.length&&(0,u.jsx)("p",{children:"We don't have any reviews for this movie"}),!!f&&(0,u.jsx)("p",{children:f})]})}},580:function(e,t,r){r.d(t,{vw:function(){return u},in:function(){return l},Bf:function(){return s},Lu:function(){return c},tK:function(){return f},ib:function(){return d}});var n=r(861),a=r(757),i=r.n(a),o=r(243);o.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n,a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fetchParams,n=t.query,a=void 0===n?null:n,u=t.controller,e.next=3,(0,o.Z)(r,{signal:u.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){return e.map((function(e){return{title:e.title,id:e.id}}))},s=function(e){var t=e.release_date,r=e.title,n=e.poster_path,a=e.popularity,i=e.backdrop_path,o=e.id,u=e.tagline,c=e.genres,s=e.overview,l=t.split("-"),f=c.map((function(e){return e.name})).join(" ");return{date:l[0],title:r,tagline:u,id:o,poster_path:n,popularity:a,backdrop_path:i,genreList:f,overview:s}},l=function(e){return e.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,character:e.character,profile_path:e.profile_path}}))},f=function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))},h=r(439),p=r(791),d=function(){var e=(0,p.useState)(null),t=(0,h.Z)(e,2),r=t[0],n=t[1],a=(0,p.useState)(!1),i=(0,h.Z)(a,2);return{errorMessage:r,setErrorMessage:n,showLoader:i[0],setShowLoader:i[1]}}}}]);
//# sourceMappingURL=23.929f85ce.chunk.js.map