"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[390],{390:function(e,t,r){r.r(t);var n=r(439),a=r(689),i=r(791),o=r(580),c=r(184);t.default=function(){var e=(0,a.UO)().moviesId,t=(0,i.useState)([]),r=(0,n.Z)(t,2),u=r[0],s=r[1],l=(0,o.ib)(),p=l.errorMessage,f=l.setErrorMessage;return(0,i.useEffect)((function(){var t=new AbortController,r={fetchParams:"movie/".concat(e,"/credits"),controller:t};return f(null),(0,o.vw)(r).then((function(e){s((0,o.in)(e.cast))})).catch((function(e){"canceled"!==e.message&&f(e.message)})),function(){t.abort()}}),[e,f]),(0,c.jsxs)(c.Fragment,{children:[!!u.length&&(0,c.jsx)("ul",{children:u.map((function(e){var t=e.id,r=e.name,n=e.original_name,a=e.character,i=e.profile_path;return(0,c.jsxs)("li",{children:[(0,c.jsx)("img",{src:i?"https://image.tmdb.org/t/p/w500/".concat(i):"https://placehold.co/80x100/png",alt:r,width:"80"}),(0,c.jsx)("p",{children:n}),(0,c.jsxs)("p",{children:["Character: ",a]})]},t)}))}),!u.length&&(0,c.jsx)("p",{children:"We don't have any cast for this movie"}),!!p&&(0,c.jsx)("p",{children:p})]})}},580:function(e,t,r){r.d(t,{vw:function(){return c},in:function(){return l},Bf:function(){return s},Lu:function(){return u},tK:function(){return p},ib:function(){return d}});var n=r(861),a=r(757),i=r.n(a),o=r(243);o.Z.defaults.baseURL="https://api.themoviedb.org/3/";var c=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n,a,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fetchParams,n=t.query,a=void 0===n?null:n,c=t.controller,e.next=3,(0,o.Z)(r,{signal:c.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:a}});case 3:return u=e.sent,e.abrupt("return",u.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){return e.map((function(e){return{title:e.title,id:e.id}}))},s=function(e){var t=e.release_date,r=e.title,n=e.poster_path,a=e.popularity,i=e.backdrop_path,o=e.id,c=e.tagline,u=e.genres,s=e.overview,l=t.split("-"),p=u.map((function(e){return e.name})).join(" ");return{date:l[0],title:r,tagline:c,id:o,poster_path:n,popularity:a,backdrop_path:i,genreList:p,overview:s}},l=function(e){return e.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,character:e.character,profile_path:e.profile_path}}))},p=function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))},f=r(439),h=r(791),d=function(){var e=(0,h.useState)(null),t=(0,f.Z)(e,2),r=t[0],n=t[1],a=(0,h.useState)(!1),i=(0,f.Z)(a,2);return{errorMessage:r,setErrorMessage:n,showLoader:i[0],setShowLoader:i[1]}}}}]);
//# sourceMappingURL=390.5c748ecc.chunk.js.map