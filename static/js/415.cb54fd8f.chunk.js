"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[415],{7174:function(t,e,r){r.d(e,{Z:function(){return E}});var o=r(7689),n=r(5856),a=r(168),i=r(1087),s=r(6444),c=r(2791),l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},l(t,e)};function u(t){var e=t.className,r=t.counterClockwise,o=t.dashRatio,n=t.pathRadius,a=t.strokeWidth,i=t.style;return(0,c.createElement)("path",{className:e,style:Object.assign({},i,p({pathRadius:n,dashRatio:o,counterClockwise:r})),d:d({pathRadius:n,counterClockwise:r}),strokeWidth:a,fillOpacity:0})}function d(t){var e=t.pathRadius,r=t.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+e+"\n      a "+e+","+e+" "+r+" 1 1 0,"+2*e+"\n      a "+e+","+e+" "+r+" 1 1 0,-"+2*e+"\n    "}function p(t){var e=t.counterClockwise,r=t.dashRatio,o=t.pathRadius,n=2*Math.PI*o,a=(1-r)*n;return{strokeDasharray:n+"px "+n+"px",strokeDashoffset:(e?-a:a)+"px"}}var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var t=this.props,e=t.value,r=t.minValue,o=t.maxValue;return(Math.min(Math.max(e,r),o)-r)/(o-r)},e.prototype.render=function(){var t=this.props,e=t.circleRatio,r=t.className,o=t.classes,n=t.counterClockwise,a=t.styles,i=t.strokeWidth,s=t.text,l=this.getPathRadius(),d=this.getPathRatio();return(0,c.createElement)("svg",{className:o.root+" "+r,style:a.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,c.createElement)("circle",{className:o.background,style:a.background,cx:50,cy:50,r:50}):null,(0,c.createElement)(u,{className:o.trail,counterClockwise:n,dashRatio:e,pathRadius:l,strokeWidth:i,style:a.trail}),(0,c.createElement)(u,{className:o.path,counterClockwise:n,dashRatio:d*e,pathRadius:l,strokeWidth:i,style:a.path}),s?(0,c.createElement)("text",{className:o.text,style:a.text,x:50,y:50},s):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(c.Component);function f(t){var e=t.rotation,r=t.strokeLinecap,o=t.textColor,n=t.textSize,a=t.pathColor,i=t.pathTransition,s=t.pathTransitionDuration,c=t.trailColor,l=t.backgroundColor,u=null==e?void 0:"rotate("+e+"turn)",d=null==e?void 0:"center center";return{root:{},path:g({stroke:a,strokeLinecap:r,transform:u,transformOrigin:d,transition:i,transitionDuration:null==s?void 0:s+"s"}),trail:g({stroke:c,strokeLinecap:r,transform:u,transformOrigin:d}),text:g({fill:o,fontSize:n}),background:g({fill:l})}}function g(t){return Object.keys(t).forEach((function(e){null==t[e]&&delete t[e]})),t}var k,x,m,v,b,y,C=r(184),P=s.ZP.ul(k||(k=(0,a.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding-top: 20px;\n"]))),w=s.ZP.li(x||(x=(0,a.Z)(["\n  max-width: 250px;\n  text-align: center;\n"]))),R=(0,s.ZP)(i.rU)(m||(m=(0,a.Z)(["\n  color: black;\n  font-size: 16px;\n  font-weight: 500;\n\n  &:hover,\n  &:focus {\n    color: tomato;\n  }\n"]))),j=s.ZP.div(v||(v=(0,a.Z)(["\n  position: relative;\n"]))),Z=s.ZP.div(b||(b=(0,a.Z)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n\n  width: 50px;\n"]))),_=(0,s.ZP)(h)(y||(y=(0,a.Z)([""]))),L=function(t){var e=t.value,r=t.text;return(0,C.jsx)(_,{value:e,text:r,background:!0,backgroundPadding:6,styles:f({textColor:"black",pathColor:"teal",trailColor:"tomato",backgroundColor:"silver",textSize:"30px"})})},E=function(t){var e=t.movies,r=t.setIsLoading,a=(0,o.TH)(),i=(0,n.e4)(e.length,(function(){r(!1)}));return(0,C.jsx)(P,{children:e.map((function(t,e){var r=t.title,o=t.id,n=t.poster,s=t.averageVote;return(0,C.jsx)(w,{children:(0,C.jsxs)(R,{to:"/movies/".concat(o),state:{from:a},children:[(0,C.jsxs)(j,{children:[(0,C.jsx)("img",{src:n,alt:r,width:"300px",onLoad:i,onError:i}),(0,C.jsx)(Z,{children:(0,C.jsx)(L,{value:s,text:"".concat(s,"%")})})]}),(0,C.jsx)("h2",{children:r})]})},o)}))})}},5415:function(t,e,r){r.r(e);var o=r(2791),n=r(7174),a=r(6481),i=r(3855),s=r(1446),c=r(184);e.default=function(){var t=(0,s.Z)(),e=t.movies,r=t.isLoading,l=t.setIsLoading,u=t.fetchMoviesList,d=(0,o.useRef)(u).current;return(0,o.useEffect)((function(){var t=new AbortController;return d({fetchParams:"trending/movie/week",controller:t}),function(){t.abort()}}),[d]),(0,c.jsxs)(c.Fragment,{children:[r&&(0,c.jsx)(a.Z,{}),!!e.length&&(0,c.jsx)(n.Z,{movies:e,isLoading:r,setIsLoading:l}),(0,c.jsx)(i.Z,{})]})}}}]);
//# sourceMappingURL=415.cb54fd8f.chunk.js.map