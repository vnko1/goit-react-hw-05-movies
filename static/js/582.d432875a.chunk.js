"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[582],{8627:function(n,e,r){r.r(e),r.d(e,{default:function(){return j}});var o,t,a,u=r(3433),i=r(9439),s=r(2791),c=r(1087),d=r(168),l=r(6444),f=l.ZP.form(o||(o=(0,d.Z)(["\n  width: 400px;\n  padding-top: 20px;\n  margin: 0 auto;\n  display: flex;\n  gap: 10px;\n"]))),p=l.ZP.input(t||(t=(0,d.Z)(["\n  width: 100%;\n  padding: 4px 8px;\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  background-color: silver;\n"]))),h=l.ZP.button(a||(a=(0,d.Z)(["\n  padding: 4px 8px;\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  background-color: silver;\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    background-color: tomato;\n  }\n"]))),m=r(184),x=function(n){var e=n.setSearchParams,r=(0,s.useState)(""),o=(0,i.Z)(r,2),t=o[0],a=o[1];return(0,m.jsxs)(f,{onSubmit:function(n){n.preventDefault(),t.trim()&&(e({query:t.trim().toLowerCase()}),a(""))},children:[(0,m.jsx)(p,{type:"text",name:"query",value:t,placeholder:"Search movies",autoComplete:"off",autoFocus:!0,onChange:function(n){var e=n.currentTarget.value;a(e)}}),(0,m.jsx)(h,{type:"submit",children:"Search"})]})},v=r(7174),g=r(3855),b=r(6481),Z=r(1446),j=function(){var n=(0,Z.Z)(),e=n.movies,r=n.fetchMoviesList,o=n.isLoading,t=n.setIsLoading,a=(0,s.useRef)(r).current,d=(0,c.lr)(),l=(0,i.Z)(d,2),f=l[0],p=l[1],h=(0,s.useMemo)((function(){return Object.fromEntries((0,u.Z)(f))}),[f]).query;return(0,s.useEffect)((function(){if(h){var n=new AbortController;return a({controller:n,fetchParams:"search/movie",query:h}),function(){n.abort()}}}),[a,h]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x,{setSearchParams:p}),o&&(0,m.jsx)(b.Z,{}),!!e.length&&(0,m.jsx)(v.Z,{movies:e,setIsLoading:t}),(0,m.jsx)(g.Z,{})]})}}}]);
//# sourceMappingURL=582.d432875a.chunk.js.map