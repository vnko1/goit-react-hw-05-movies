"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[627],{7174:function(t,r,e){e.d(r,{Z:function(){return L}});var n=e(7689),o=e(5856),a=e(168),i=e(1087),s=e(6444),c=e(2791),u=function(t,r){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])},u(t,r)};function l(t){var r=t.className,e=t.counterClockwise,n=t.dashRatio,o=t.pathRadius,a=t.strokeWidth,i=t.style;return(0,c.createElement)("path",{className:r,style:Object.assign({},i,p({pathRadius:o,dashRatio:n,counterClockwise:e})),d:d({pathRadius:o,counterClockwise:e}),strokeWidth:a,fillOpacity:0})}function d(t){var r=t.pathRadius,e=t.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+r+"\n      a "+r+","+r+" "+e+" 1 1 0,"+2*r+"\n      a "+r+","+r+" "+e+" 1 1 0,-"+2*r+"\n    "}function p(t){var r=t.counterClockwise,e=t.dashRatio,n=t.pathRadius,o=2*Math.PI*n,a=(1-e)*o;return{strokeDasharray:o+"px "+o+"px",strokeDashoffset:(r?-a:a)+"px"}}var h=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return function(t,r){function e(){this.constructor=t}u(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,t),r.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},r.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},r.prototype.getPathRatio=function(){var t=this.props,r=t.value,e=t.minValue,n=t.maxValue;return(Math.min(Math.max(r,e),n)-e)/(n-e)},r.prototype.render=function(){var t=this.props,r=t.circleRatio,e=t.className,n=t.classes,o=t.counterClockwise,a=t.styles,i=t.strokeWidth,s=t.text,u=this.getPathRadius(),d=this.getPathRatio();return(0,c.createElement)("svg",{className:n.root+" "+e,style:a.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,c.createElement)("circle",{className:n.background,style:a.background,cx:50,cy:50,r:50}):null,(0,c.createElement)(l,{className:n.trail,counterClockwise:o,dashRatio:r,pathRadius:u,strokeWidth:i,style:a.trail}),(0,c.createElement)(l,{className:n.path,counterClockwise:o,dashRatio:d*r,pathRadius:u,strokeWidth:i,style:a.path}),s?(0,c.createElement)("text",{className:n.text,style:a.text,x:50,y:50},s):null)},r.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},r}(c.Component);function f(t){var r=t.rotation,e=t.strokeLinecap,n=t.textColor,o=t.textSize,a=t.pathColor,i=t.pathTransition,s=t.pathTransitionDuration,c=t.trailColor,u=t.backgroundColor,l=null==r?void 0:"rotate("+r+"turn)",d=null==r?void 0:"center center";return{root:{},path:x({stroke:a,strokeLinecap:e,transform:l,transformOrigin:d,transition:i,transitionDuration:null==s?void 0:s+"s"}),trail:x({stroke:c,strokeLinecap:e,transform:l,transformOrigin:d}),text:x({fill:n,fontSize:o}),background:x({fill:u})}}function x(t){return Object.keys(t).forEach((function(r){null==t[r]&&delete t[r]})),t}var g,m,k,v,b,y,P=e(184),C=s.ZP.ul(g||(g=(0,a.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding-top: 20px;\n"]))),w=s.ZP.li(m||(m=(0,a.Z)(["\n  max-width: 250px;\n  text-align: center;\n"]))),Z=(0,s.ZP)(i.rU)(k||(k=(0,a.Z)(["\n  color: black;\n  font-size: 16px;\n  font-weight: 500;\n\n  &:hover,\n  &:focus {\n    color: tomato;\n  }\n"]))),j=s.ZP.div(v||(v=(0,a.Z)(["\n  position: relative;\n"]))),R=s.ZP.div(b||(b=(0,a.Z)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n\n  width: 50px;\n"]))),_=(0,s.ZP)(h)(y||(y=(0,a.Z)([""]))),E=function(t){var r=t.value,e=t.text;return(0,P.jsx)(_,{value:r,text:e,background:!0,backgroundPadding:6,styles:f({textColor:"black",pathColor:"teal",trailColor:"tomato",backgroundColor:"silver",textSize:"30px"})})},L=function(t){var r=t.movies,e=t.setIsLoading,a=(0,n.TH)(),i=(0,o.e4)(r.length,(function(){e(!1)}));return(0,P.jsx)(C,{children:r.map((function(t,r){var e=t.title,n=t.id,o=t.poster,s=t.averageVote;return(0,P.jsx)(w,{children:(0,P.jsxs)(Z,{to:"/movies/".concat(n),state:{from:a},children:[(0,P.jsxs)(j,{children:[(0,P.jsx)("img",{src:o,alt:e,width:"300px",onLoad:i,onError:i}),(0,P.jsx)(R,{children:(0,P.jsx)(E,{value:s,text:"".concat(s,"%")})})]}),(0,P.jsx)("h2",{children:e})]})},n)}))})}},8627:function(t,r,e){e.r(r),e.d(r,{default:function(){return y}});var n,o,a,i=e(3433),s=e(9439),c=e(2791),u=e(1087),l=e(168),d=e(6444),p=d.ZP.form(n||(n=(0,l.Z)(["\n  width: 400px;\n  padding-top: 20px;\n  margin: 0 auto;\n  display: flex;\n  gap: 10px;\n"]))),h=d.ZP.input(o||(o=(0,l.Z)(["\n  width: 100%;\n  padding: 4px 8px;\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  background-color: silver;\n"]))),f=d.ZP.button(a||(a=(0,l.Z)(["\n  padding: 4px 8px;\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  background-color: silver;\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    background-color: tomato;\n  }\n"]))),x=e(184),g=function(t){var r=t.setSearchParams,e=(0,c.useState)(""),n=(0,s.Z)(e,2),o=n[0],a=n[1];return(0,x.jsxs)(p,{onSubmit:function(t){t.preventDefault(),o.trim()&&(r({query:o.trim().toLowerCase()}),a(""))},children:[(0,x.jsx)(h,{type:"text",name:"query",value:o,placeholder:"Search movies",autoComplete:"off",autoFocus:!0,onChange:function(t){var r=t.currentTarget.value;a(r)}}),(0,x.jsx)(f,{type:"submit",children:"Search"})]})},m=e(7174),k=e(3855),v=e(6481),b=e(1446),y=function(){var t=(0,b.Z)(),r=t.movies,e=t.fetchMoviesList,n=t.isLoading,o=t.setIsLoading,a=(0,c.useRef)(e).current,l=(0,u.lr)(),d=(0,s.Z)(l,2),p=d[0],h=d[1],f=(0,c.useMemo)((function(){return Object.fromEntries((0,i.Z)(p))}),[p]).query;return(0,c.useEffect)((function(){if(f){var t=new AbortController;return a({controller:t,fetchParams:"search/movie",query:f}),function(){t.abort()}}}),[a,f]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g,{setSearchParams:h}),n&&(0,x.jsx)(v.Z,{}),!!r.length&&(0,x.jsx)(m.Z,{movies:r,setIsLoading:o}),(0,x.jsx)(k.Z,{})]})}}}]);
//# sourceMappingURL=627.f6081ba5.chunk.js.map