"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[390],{390:function(t,n,e){e.r(n);var r=e(439),a=e(689),i=e(791),c=e(830),o=e(184);n.default=function(){var t=(0,a.UO)().moviesId,n=(0,i.useState)([]),e=(0,r.Z)(n,2),u=e[0],s=e[1];return(0,i.useEffect)((function(){var n=new AbortController,e={fetchParams:"movie/".concat(t,"/credits"),controller:n};return(0,c.vw)(e).then((function(t){s((0,c.in)(t.cast))})).catch((function(t){})).finally((function(){})),function(){n.abort()}}),[t]),(0,o.jsxs)(o.Fragment,{children:[!!u.length&&(0,o.jsx)("ul",{children:u.map((function(t){var n=t.id,e=t.name,r=t.original_name,a=t.character,i=t.profile_path;return(0,o.jsxs)("li",{children:[(0,o.jsx)("img",{src:i?"https://image.tmdb.org/t/p/w500/".concat(i):"https://placehold.co/80x100/png",alt:e,width:"80"}),(0,o.jsx)("p",{children:r}),(0,o.jsxs)("p",{children:["Character: ",a]})]},n)}))}),!u.length&&(0,o.jsx)("p",{children:"We don't have any cast for this movie"})]})}},830:function(t,n,e){e.d(n,{vw:function(){return o},in:function(){return l},Bf:function(){return s},Lu:function(){return u},tK:function(){return p}});var r=e(861),a=e(757),i=e.n(a),c=e(243);c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var o=function(){var t=(0,r.Z)(i().mark((function t(n){var e,r,a,o,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.fetchParams,r=n.query,a=void 0===r?null:r,o=n.controller,t.next=3,(0,c.Z)(e,{signal:o.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:a}});case 3:return u=t.sent,t.abrupt("return",u.data);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),u=function(t){return t.map((function(t){return{title:t.title,id:t.id}}))},s=function(t){var n=t.release_date,e=t.title,r=t.poster_path,a=t.popularity,i=t.backdrop_path,c=t.id,o=t.tagline,u=t.genres,s=t.overview,l=n.split("-"),p=u.map((function(t){return t.name})).join(" ");return{date:l[0],title:e,tagline:o,id:c,poster_path:r,popularity:a,backdrop_path:i,genreList:p,overview:s}},l=function(t){return t.map((function(t){return{id:t.id,name:t.name,original_name:t.original_name,character:t.character,profile_path:t.profile_path}}))},p=function(t){return t.map((function(t){return{author:t.author,content:t.content,id:t.id}}))}}}]);
//# sourceMappingURL=390.28bb692e.chunk.js.map