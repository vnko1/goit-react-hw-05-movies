"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[415],{9021:function(e,t,n){n.d(t,{Z:function(){return f}});var r,o=n(7689),a=n(843),i=n(168),c=n(1087),s=(0,n(6444).ZP)(c.rU)(r||(r=(0,i.Z)(["\n  color: black;\n  font-size: 16px;\n  font-weight: 500;\n\n  &:hover,\n  &:focus {\n    color: tomato;\n  }\n"]))),u=n(184),f=function(e){var t=e.movies,n=(0,o.TH)();return(0,u.jsx)(a.Z,{style:{paddingTop:"10px"},children:t.map((function(e){var t=e.title,r=e.id;return(0,u.jsx)(a.Z.Item,{children:(0,u.jsx)(s,{to:"/movies/".concat(r),state:{from:n},children:t})},r)}))})}},3855:function(e,t,n){var r=n(5218),o=n(184);t.Z=function(){return(0,o.jsx)(r.x7,{position:"top-center",reverseOrder:!1})}},5415:function(e,t,n){n.r(t);var r=n(2791),o=n(9021),a=n(334),i=n(3855),c=n(7178),s=n(184);t.default=function(){var e=(0,c.Z)(),t=e.movies,n=e.showLoader,u=e.fetchMoviesList,f=(0,r.useRef)(u).current;return(0,r.useEffect)((function(){var e=new AbortController;return f({fetchParams:"trending/movie/week",controller:e}),function(){e.abort()}}),[f]),(0,s.jsxs)(s.Fragment,{children:[n&&(0,s.jsx)(a.Z,{}),!!t.length&&(0,s.jsx)(o.Z,{movies:t}),(0,s.jsx)(i.Z,{})]})}},7178:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(9439),o=n(2791),a=n(5861),i=n(4687),c=n.n(i),s=n(1243);s.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u=function(){var e=(0,a.Z)(c().mark((function e(t){var n,r,o,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetchParams,r=t.query,o=void 0===r?null:r,a=t.controller,e.next=3,(0,s.Z)(n,{signal:a.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:o}});case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=n(5218),l=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),n=t[0],a=t[1],i=(0,o.useState)(!1),c=(0,r.Z)(i,2),s=c[0],l=c[1],h=(0,o.useState)(null),p=(0,r.Z)(h,2),m=p[0],d=p[1],v=(0,o.useState)([]),g=(0,r.Z)(v,2),Z=g[0],_=g[1],w=(0,o.useState)([]),x=(0,r.Z)(w,2),b=x[0],k=x[1];return{movies:n,fetchMoviesList:function(e){l(!0),u(e).then((function(e){e.results.length||f.ZP.error("Nothing found!");var t=function(e){return e.map((function(e){return{title:e.title,id:e.id}}))}(e.results);a(t)})).catch((function(e){"canceled"!==e.message&&f.ZP.error(e.message)})).finally((function(){l(!1)}))},movie:m,fetchMovie:function(e){l(!0),u(e).then((function(e){d(function(e){var t=e.release_date,n=e.title,r=e.poster_path,o=e.popularity,a=e.backdrop_path,i=e.id,c=e.tagline,s=e.genres,u=e.overview,f=t?t.split("-")[0]:"No release information",l=r?"https://image.tmdb.org/t/p/w500/".concat(r):"https://placehold.co/500x750/png",h=s.map((function(e){return e.name})).join(" ");return{date:f,title:n,tagline:c,id:i,poster:l,popularity:o+"",backdrop_path:a,genre:h.length?h:"No genre information",overview:u}}(e))})).catch((function(e){"canceled"!==e.message&&f.ZP.error(e.message)})).finally((function(){l(!1)}))},cast:Z,fetchCast:function(e){u(e).then((function(e){_(function(e){return e.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,character:e.character,profile_path:e.profile_path}}))}(e.cast))})).catch((function(e){"canceled"!==e.message&&f.ZP.error(e.message)}))},reviews:b,fetcReviews:function(e){u(e).then((function(e){k(function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))}(e.results))})).catch((function(e){"canceled"!==e.message&&f.ZP.error(e.message)}))},showLoader:s}}}}]);
//# sourceMappingURL=415.9c34a19c.chunk.js.map