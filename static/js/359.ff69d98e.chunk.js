"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[359],{359:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var n=t(439),i=t(791),o=t(87),a=t(689);function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var u=t(184),l=function(e){var r,t,n,i,l=e.movie,d=l.date,f=l.title,p=l.tagline,h=l.poster_path,v=l.popularity,m=l.genreList,j=l.overview,g=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},(0,a.TH)()),b=null===g||void 0===g||null===(r=g.state)||void 0===r||null===(t=r.from)||void 0===t?void 0:t.pathname,x=null===g||void 0===g||null===(n=g.state)||void 0===n||null===(i=n.from)||void 0===i?void 0:i.search;return(0,u.jsxs)(u.Fragment,{children:[" ",(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:h?"https://image.tmdb.org/t/p/w500/".concat(h):"https://placehold.co/500x750/png",alt:p}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:f}),(0,u.jsx)("p",{children:d?"(".concat(d,")"):"No release information"})]}),(0,u.jsxs)("p",{children:["Popularity: ",v]}),(0,u.jsx)("h2",{children:"Overview"}),(0,u.jsx)("p",{children:j}),(0,u.jsx)("h2",{children:"Genres"}),(0,u.jsx)("p",{children:m.length?m:"No genre information"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:"Additional information"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(o.rU,{to:"cast",state:{from:{pathname:b,search:x}},children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(o.rU,{to:"reviews",state:{from:{pathname:b,search:x}},children:"Reviews"})})]}),(0,u.jsx)(a.j3,{})]})]})},d=t(334),f=t(580),p=function(){var e,r,t=(0,i.useState)(null),c=(0,n.Z)(t,2),s=c[0],p=c[1],h=(0,f.ib)(),v=h.errorMessage,m=h.setErrorMessage,j=h.showLoader,g=h.setShowLoader,b=(0,a.UO)().moviesId,x=null!==(e=null===(r=(0,a.TH)().state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/";return(0,i.useEffect)((function(){var e=new AbortController,r={fetchParams:"movie/".concat(b),controller:e};return m(null),g(!0),(0,f.vw)(r).then((function(e){p((0,f.Bf)(e))})).catch((function(e){"canceled"!==e.message&&m(e.message)})).finally((function(){g(!1)})),function(){e.abort()}}),[b,m,g]),(0,u.jsxs)("div",{children:[(0,u.jsx)(o.rU,{to:x,children:"Go back"}),j&&(0,u.jsx)(d.Z,{}),s&&(0,u.jsx)(l,{movie:s}),!!v&&(0,u.jsx)("p",{children:v})]})}},580:function(e,r,t){t.d(r,{vw:function(){return c},in:function(){return l},Bf:function(){return u},Lu:function(){return s},tK:function(){return d},ib:function(){return h}});var n=t(861),i=t(757),o=t.n(i),a=t(243);a.Z.defaults.baseURL="https://api.themoviedb.org/3/";var c=function(){var e=(0,n.Z)(o().mark((function e(r){var t,n,i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.fetchParams,n=r.query,i=void 0===n?null:n,c=r.controller,e.next=3,(0,a.Z)(t,{signal:c.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:i}});case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),s=function(e){return e.map((function(e){return{title:e.title,id:e.id}}))},u=function(e){var r=e.release_date,t=e.title,n=e.poster_path,i=e.popularity,o=e.backdrop_path,a=e.id,c=e.tagline,s=e.genres,u=e.overview,l=r.split("-"),d=s.map((function(e){return e.name})).join(" ");return{date:l[0],title:t,tagline:c,id:a,poster_path:n,popularity:i,backdrop_path:o,genreList:d,overview:u}},l=function(e){return e.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,character:e.character,profile_path:e.profile_path}}))},d=function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))},f=t(439),p=t(791),h=function(){var e=(0,p.useState)(null),r=(0,f.Z)(e,2),t=r[0],n=r[1],i=(0,p.useState)(!1),o=(0,f.Z)(i,2);return{errorMessage:t,setErrorMessage:n,showLoader:o[0],setShowLoader:o[1]}}}}]);
//# sourceMappingURL=359.ff69d98e.chunk.js.map