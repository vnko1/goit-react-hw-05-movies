"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[415],{589:function(e,t,r){var n=r(689),a=r(87),i=r(184);t.Z=function(e){var t=e.movies,r=(0,n.TH)();return(0,i.jsx)("ul",{children:t.map((function(e){var t=e.title,n=e.id;return(0,i.jsx)("li",{children:(0,i.jsx)(a.rU,{to:"/movies/".concat(n),state:{from:r},children:t})},n)}))})}},415:function(e,t,r){r.r(t);var n=r(439),a=r(791),i=r(589),o=r(334),u=r(580),c=r(184);t.default=function(){var e=(0,a.useState)([]),t=(0,n.Z)(e,2),r=t[0],s=t[1],f=(0,u.ib)(),l=f.errorMessage,p=f.setErrorMessage,h=f.showLoader,d=f.setShowLoader;return(0,a.useEffect)((function(){var e=new AbortController,t={fetchParams:"trending/movie/week",controller:e};return p(null),d(!0),(0,u.vw)(t).then((function(e){var t=(0,u.Lu)(e.results);s(t)})).catch((function(e){"canceled"!==e.message&&p(e.message)})).finally((function(){d(!1)})),function(){e.abort()}}),[p,s,d]),(0,c.jsxs)(c.Fragment,{children:[h&&(0,c.jsx)(o.Z,{}),!!r.length&&(0,c.jsx)(i.Z,{movies:r}),!!l&&(0,c.jsx)("p",{children:l})]})}},580:function(e,t,r){r.d(t,{vw:function(){return u},in:function(){return f},Bf:function(){return s},Lu:function(){return c},tK:function(){return l},ib:function(){return d}});var n=r(861),a=r(757),i=r.n(a),o=r(243);o.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n,a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fetchParams,n=t.query,a=void 0===n?null:n,u=t.controller,e.next=3,(0,o.Z)(r,{signal:u.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:a}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){return e.map((function(e){return{title:e.title,id:e.id}}))},s=function(e){var t=e.release_date,r=e.title,n=e.poster_path,a=e.popularity,i=e.backdrop_path,o=e.id,u=e.tagline,c=e.genres,s=e.overview,f=t.split("-"),l=c.map((function(e){return e.name})).join(" ");return{date:f[0],title:r,tagline:u,id:o,poster_path:n,popularity:a,backdrop_path:i,genreList:l,overview:s}},f=function(e){return e.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,character:e.character,profile_path:e.profile_path}}))},l=function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))},p=r(439),h=r(791),d=function(){var e=(0,h.useState)(null),t=(0,p.Z)(e,2),r=t[0],n=t[1],a=(0,h.useState)(!1),i=(0,p.Z)(a,2);return{errorMessage:r,setErrorMessage:n,showLoader:i[0],setShowLoader:i[1]}}}}]);
//# sourceMappingURL=415.a5bd0319.chunk.js.map