"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[115],{2115:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r,a,o=n(7689),i=n(2791),c=n(3855),s=n(7178),u=n(168),l=n(6444),f=l.ZP.ul(r||(r=(0,u.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]))),h=l.ZP.li(a||(a=(0,u.Z)(["\n  max-width: 180px;\n"]))),p=n(184),d=function(){var e=(0,s.Z)(),t=e.cast,n=e.fetchCast,r=(0,o.UO)().moviesId,a=(0,i.useRef)(n).current;return(0,i.useEffect)((function(){var e=new AbortController;return a({fetchParams:"movie/".concat(r,"/credits"),controller:e}),function(){e.abort()}}),[a,r]),(0,p.jsxs)(p.Fragment,{children:[!!t.length&&(0,p.jsx)(f,{children:t.map((function(e){var t=e.id,n=e.name,r=e.original_name,a=e.character,o=e.profile_path;return(0,p.jsxs)(h,{children:[(0,p.jsx)("img",{src:o?"https://image.tmdb.org/t/p/w500/".concat(o):"https://placehold.co/80x100/png",alt:n,width:"180"}),(0,p.jsx)("p",{children:r}),(0,p.jsxs)("p",{children:["Character: ",a]})]},t)}))}),(0,p.jsx)(c.Z,{})]})}},3855:function(e,t,n){var r=n(5218),a=n(184);t.Z=function(){return(0,a.jsx)(r.x7,{position:"top-center",reverseOrder:!1})}},7178:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(9439),a=n(2791),o=n(5861),i=n(4687),c=n.n(i),s=n(1243);s.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u=function(){var e=(0,o.Z)(c().mark((function e(t){var n,r,a,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetchParams,r=t.query,a=void 0===r?null:r,o=t.controller,e.next=3,(0,s.Z)(n,{signal:o.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:a}});case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=n(5218),f=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],o=t[1],i=(0,a.useState)(!1),c=(0,r.Z)(i,2),s=c[0],f=c[1],h=(0,a.useState)(null),p=(0,r.Z)(h,2),d=p[0],m=p[1],g=(0,a.useState)([]),v=(0,r.Z)(g,2),Z=v[0],w=v[1],_=(0,a.useState)([]),x=(0,r.Z)(_,2),b=x[0],y=x[1];return{movies:n,fetchMoviesList:function(e){f(!0),u(e).then((function(e){e.results.length||l.ZP.error("Nothing found!");var t=function(e){return e.map((function(e){var t=e.title,n=e.id,r=e.poster_path,a=e.vote_average;return{title:t,id:n,poster:r?"https://image.tmdb.org/t/p/w500/".concat(r):"https://placehold.co/500x750/png",averageVote:a&&Math.round(10*a)}}))}(e.results);o(t)})).catch((function(e){"canceled"!==e.message&&l.ZP.error(e.message)})).finally((function(){f(!1)}))},movie:d,fetchMovie:function(e){f(!0),u(e).then((function(e){m(function(e){var t=e.release_date,n=e.title,r=e.poster_path,a=e.popularity,o=e.backdrop_path,i=e.id,c=e.tagline,s=e.genres,u=e.overview,l=t?t.split("-")[0]:"No release information",f=r?"https://image.tmdb.org/t/p/w500/".concat(r):"https://placehold.co/500x750/png",h=s.map((function(e){return e.name})).join(" ");return{date:l,title:n,tagline:c,id:i,poster:f,popularity:a+"",backdrop_path:o,genre:h.length?h:"No genre information",overview:u}}(e))})).catch((function(e){"canceled"!==e.message&&l.ZP.error(e.message)})).finally((function(){f(!1)}))},cast:Z,fetchCast:function(e){u(e).then((function(e){w(function(e){return e.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,character:e.character,profile_path:e.profile_path}}))}(e.cast)),e.cast.length||l.ZP.error("We don't have any cast for this movie")})).catch((function(e){"canceled"!==e.message&&l.ZP.error(e.message)}))},reviews:b,fetcReviews:function(e){u(e).then((function(e){y(function(e){return e.map((function(e){return{author:e.author,content:e.content,id:e.id}}))}(e.results)),e.results.length||l.ZP.error("We don't have any reviews for this movie")})).catch((function(e){"canceled"!==e.message&&l.ZP.error(e.message)}))},showLoader:s}}}}]);
//# sourceMappingURL=115.0ca7f8f9.chunk.js.map