"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[23],{23:function(t,n,e){e.r(n);var r=e(439),i=e(689),a=e(791),u=e(830),o=e(184);n.default=function(){var t=(0,i.UO)().moviesId,n=(0,a.useState)([]),e=(0,r.Z)(n,2),c=e[0],s=e[1];return(0,a.useEffect)((function(){var n=new AbortController,e={fetchParams:"movie/".concat(t,"/reviews"),controller:n};return(0,u.vw)(e).then((function(t){s((0,u.tK)(t.results))})).catch((function(t){})).finally((function(){})),function(){n.abort()}}),[t]),(0,o.jsxs)(o.Fragment,{children:[!!c.length&&(0,o.jsx)("ul",{children:c.map((function(t){var n=t.author,e=t.content,r=t.id;return(0,o.jsxs)("li",{children:[(0,o.jsxs)("h2",{children:["Author: ",n]}),(0,o.jsx)("p",{children:e})]},r)}))}),!c.length&&(0,o.jsx)("p",{children:"We don't have any reviews for this movie"})]})}},830:function(t,n,e){e.d(n,{vw:function(){return o},in:function(){return f},Bf:function(){return s},Lu:function(){return c},tK:function(){return l}});var r=e(861),i=e(757),a=e.n(i),u=e(243);u.Z.defaults.baseURL="https://api.themoviedb.org/3/";var o=function(){var t=(0,r.Z)(a().mark((function t(n){var e,r,i,o,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.fetchParams,r=n.query,i=void 0===r?null:r,o=n.controller,t.next=3,(0,u.Z)(e,{signal:o.signal,params:{api_key:"c095a52b18be81f1ee1fe016a8531acc",query:i}});case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),c=function(t){return t.map((function(t){return{title:t.title,id:t.id}}))},s=function(t){var n=t.release_date,e=t.title,r=t.poster_path,i=t.popularity,a=t.backdrop_path,u=t.id,o=t.tagline,c=t.genres,s=t.overview,f=n.split("-"),l=c.map((function(t){return t.name})).join(" ");return{date:f[0],title:e,tagline:o,id:u,poster_path:r,popularity:i,backdrop_path:a,genreList:l,overview:s}},f=function(t){return t.map((function(t){return{id:t.id,name:t.name,original_name:t.original_name,character:t.character,profile_path:t.profile_path}}))},l=function(t){return t.map((function(t){return{author:t.author,content:t.content,id:t.id}}))}}}]);
//# sourceMappingURL=23.f9973ba7.chunk.js.map